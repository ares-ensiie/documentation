<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <link href="/assets/stylesheets/documentation.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/assets/javascripts/documentation.js" type="text/javascript"></script>
    <link rel="icon" type="image/png" href="https://s3-eu-west-1.amazonaws.com/ares-favicon/favicon.png">
  </head>
  <body class='developers developers_paas developers_paas_deploy developers_paas_deploy_index'>
    <header class='notice'>
      <p>En cas de problème avec la documentation, veuillez <a href="https://github.com/ares-ensiie/documentation/issues/new">ouvrir une issue</a> ou nous contacter sur <a href="irc://irc.iiens.net/%23ares">#ares</a> ou <a href="mailto:ares@ares-ensiie.eu">ares@ares-ensiie.eu</a></p>
    </header>
    <article>
      <h1>Déployer son application sur ares-paas.eu</h1>&#x000A;&#x000A;<p>Cette documentation a pour but de vous guider lors de votre premier déploiement d&#39;application sur le PaaS ( Plateform as a Service ) de l&#39;école.</p>&#x000A;&#x000A;<h2>S&#39;authentifier auprès du serveur</h2>&#x000A;&#x000A;<p>Afin de garantir la sécurité de vos applications, il faut vous authentifier auprès du serveur à l&#39;aide d&#39;une clé ssh. Pour se faire il vous faut <a href="https://help.github.com/articles/generating-ssh-keys">générer les clés privée et publique</a> sur votre machine, et ensuite envoyer votre clé publique sur le serveur ares-paas.eu.&#x000A;La saisie de nouvelle clé ssh demandant l&#39;accés root au serveur hébergeant les applications du PaaS, nous vous demanderont de bien vouloir envoyer cette clé publique à ARES en attendant que le dashboard du PaaS soit fonctionnel, ou que l&#39;on trouve une solution vous permettant de le faire vous même.&#x000A;Une fois cette étape réalisée, votre machine sera référencée sur le PaaS et vous autorisera à déployer votre application.</p>&#x000A;&#x000A;<h2>Préparer son application</h2>&#x000A;&#x000A;<p>Tout d&#39;abord, il est nécessaire que votre application soit dans un répository Git et qu&#39;elle soit à jour. Si ce n&#39;est pas le cas :</p>&#x000A;<div class="highlight"><pre><span class="n">git</span> <span class="n">init</span>&#x000A;&#x000A;<span class="n">git</span> <span class="n">add</span> <span class="o">-</span><span class="n">A</span>&#x000A;&#x000A;<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s">&quot;Ready to deploy&quot;</span>&#x000A;</pre></div>&#x000A;<p><strong>Attention</strong></p>&#x000A;&#x000A;<p>Certaines technologies, comme Node.js par exemple, nécessitent un fichier additionnel au projet afin de garantir le bon fonctionnement de votre application lors du déploiement : le Procfile.&#x000A;Un Procfile est un petit fichier vous permettant de déclarer la commande à éxécuter pour lancer votre application lors du déploiement. Si votre application nécessite un Procfile, vous pouvez les trouver facilement sur internet ou plus précisement sur la documentation de Heroku.</p>&#x000A;&#x000A;<p>Il vous faut ensuite ajouter le <strong>remote</strong> de ares-paas.eu à votre projet :</p>&#x000A;<div class="highlight"><pre><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="n">ares</span> <span class="n">dokku</span><span class="err">@</span><span class="n">ares</span><span class="o">-</span><span class="n">paas</span><span class="p">.</span><span class="n">eu</span><span class="o">:</span><span class="n">NOM_DE_VOTRE_APP</span>&#x000A;</pre></div>&#x000A;<p>Vous êtes maintenant prêt à déployer votre application.</p>&#x000A;&#x000A;<h2>Déployer son application</h2>&#x000A;&#x000A;<p>Vous n&#39;avez beson que d&#39;une seule commande :</p>&#x000A;<div class="highlight"><pre><span class="n">git</span> <span class="n">push</span> <span class="n">ares</span> <span class="n">master</span>&#x000A;</pre></div>&#x000A;<p>Votre application va être pushée sur le serveur, reconnu et installée par le PaaS. A la fin du déploiement, vous pourrez observer une URL de la forme <a href="#">NOM<em>DE</em>VOTRE_APP.ares-paas.eu</a>, il s&#39;agit tout simplement du lien vers lequel vous pouvez accéder à votre application.</p>&#x000A;&#x000A;<p>Vous venez de déployer votre première application sur ares-paas.eu !</p>&#x000A;&#x000A;<h2>Exemples</h2>&#x000A;&#x000A;<ul>&#x000A;<li>Une application en <a href="http://www.python.org/">Python</a>, avec le micro-framework <a href="http://flask.pocoo.org/">Flask</a>: <a href="http://python-sample.ares-paas.eu/">http://python-sample.ares-paas.eu/</a></li>&#x000A;<li>Une application en <a href="http://nodejs.org/">Node</a>, avec le framework <a href="http://expressjs.com/">express</a>: <a href="http://express-sample.ares-paas.eu/">http://express-sample.ares-paas.eu/</a></li>&#x000A;<li>Une application en <a href="https://www.ruby-lang.org">Ruby</a>, avec le framework <a href="http://www.sinatrarb.com/">Sinatra</a>: <a href="http://ruby-sample.ares-paas.eu/">http://ruby-sample.ares-paas.eu/</a></li>&#x000A;</ul>&#x000A;&#x000A;<h2>Problèmes connus</h2>&#x000A;&#x000A;<ul>&#x000A;<li>Les application Ruby on Rails ne fonctionnent pas pour le moment (problème de base de données)</li>&#x000A;<li>Les applications Symfony sont déployées correctement mais rien ne s&#39;affiche</li>&#x000A;</ul>
    </article>
  </body>
</html>
